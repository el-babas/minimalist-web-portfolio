---
import { work } from "@data";

import Section from "@/components/Section.astro";
---

<Section title="Experiencia">
    <ul class="general">
        {
            work.map(({ name, position, url, startDate, endDate, summary }) => {
                const startYear = new Date(startDate).getUTCFullYear();
                const endYear = endDate
                    ? new Date(endDate).getUTCFullYear()
                    : "Actual";
                const years = `${startYear} - ${endYear}`;
                return (
                    <li>
                        <article>
                            <header>
                                <div>
                                    <h3>
                                        <a
                                            href={url}
                                            title={`Ver ${name}`}
                                            target="_blank"
                                        >
                                            {name}
                                        </a>
                                    </h3>
                                    <p>{position}</p>
                                </div>
                                <time>{years}</time>
                            </header>
                            <ul class="enum">
                                {summary.map((s) => {
                                    return <li>{s}</li>;
                                })}
                            </ul>
                            <footer />
                        </article>
                    </li>
                );
            })
        }
    </ul>
</Section>

<style>
    .enum {
        list-style: circle;
        margin: 0;
        padding-left: 2rem;
    }

    .enum li {
        color: #666;
        font-size: 0.8rem;
        line-height: 1.5;
        margin: 0;
        text-wrap: pretty;
        text-align: justify;
    }

    ul.general {
        display: flex;
        flex-direction: column;
        gap: 32px;
    }

    article h3 {
        color: #111;
        font-weight: 700;
        font-size: 1rem;
    }

    article p {
        color: #222;
        font-weight: 500;
    }

    article a {
        color: #111;
    }

    article a:hover {
        text-decoration: underline;
    }

    header {
        display: flex;
        justify-content: space-between;
        align-items: flex-start;
        margin-bottom: 4px;
    }

    time {
        color: #444;
        font-size: 0.85rem;
        min-width: 102px;
        cursor: default;
        text-align: right;
    }
</style>
